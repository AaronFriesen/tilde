#!/bin/sh

dir="${PWD##*/}"

if ls provided-files/*.class &> /dev/null; then
    rm provided-files/*.class
fi;

cd description;
pdflatex *.tex &> /dev/null
cd ../provided-files/;
ans="$(check)"
cd ..;

if [ "$ans" != "0" ]; then
    echo "========== $ans CHECKSTYLE ERRORS IN PROVIDED FILES ============="
fi;

err="$(javac solution/*.java 2>&1 | grep "error" -c )"

if [ "$err" != 0 ]; then
    echo "========== $err COMPILE ERRORS IN SOLUTION FILES ================"
fi;

zip -r "$dir".zip "description"/*.pdf "provided-files"/*
mv ./"$dir".zip ~/Desktop

